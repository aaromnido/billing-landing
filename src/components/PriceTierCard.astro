---
import IconTick from "./Atoms/IconTick.astro";
import pricingData from '../data/pricingData.json'
import CtaButtonSecondaryLarge from "./Atoms/CtaButtonSecondaryLarge.astro";
import CtaButtonPrimaryLarge from "./Atoms/CtaButtonPrimaryLarge.astro";
const PLANS = pricingData;
let planActive = "Anual";
---

<header class="text-center">
    <label class="relative inline-flex items-center mb-5 cursor-pointer">
        <input type="checkbox" value="" class="sr-only peer" checked>
        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
        <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">{planActive}</span>
    </label>
</header>

<section class="space-y-8 lg:grid lg:grid-cols-3 sm:gap-6 xl:gap-10 lg:space-y-0">

    {
        PLANS.map(({ plan, descripcion, precioPorAno, clientes, usuariosBillin, productos, escaneadoInteligente, seguimientoDeDocumentos, presupuestosYFacturas, facturasElectronicas, diseñosDeFacturas, personalizacionDeComunicaciones, facturasConGestor, soporte, appMovil, integracionConShopify, integracionConApiPublica, popular }) => (
            
            <div class={`${popular ? 'border-blue-400 border-2 bg-blue-600 text-white' : 'bg-white'} flex flex-col p-6 mx-auto max-w-lg text-center text-gray-900 rounded-lg xl:p-8 border border-slate-200 w-[100%]`}>
                <header>
                    <h3 class="mb-4 text-2xl font-semibold">{plan} + {popular}</h3>
                    <p class="font-light text-lg md:text-sm">{descripcion}</p>
                    <div class="flex justify-center items-baseline my-8">
                        <span class="mr-2 text-5xl font-extrabold">{precioPorAno}€</span>
                        <span>/MES + IVA</span>
                    </div>

                    <li class="flex items-center space-x-3 justify-center">
                        {popular ? <CtaButtonSecondaryLarge /> : <CtaButtonPrimaryLarge />}
                    </li>
                </header>
                <!-- ** List ** -->
                <ul role="list" class="space-y-4 text-left text-pretty">
                    {clientes &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{clientes}</span>
                        </li>
                    }
                    {usuariosBillin &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{usuariosBillin}</span>
                        </li>
                    }
                    {productos &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{productos}</span>
                        </li>
                    }
                    {escaneadoInteligente &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{escaneadoInteligente}</span>
                        </li>
                    }
                    {seguimientoDeDocumentos &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{seguimientoDeDocumentos}</span>
                        </li>
                    }
                    {presupuestosYFacturas &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{presupuestosYFacturas}</span>
                        </li>
                    }
                    {facturasElectronicas &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{facturasElectronicas}</span>
                        </li>
                    }
                    {diseñosDeFacturas &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{diseñosDeFacturas}</span>
                        </li>
                    }
                    {personalizacionDeComunicaciones &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{personalizacionDeComunicaciones}</span>
                        </li>
                    }
                    {facturasConGestor &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{facturasConGestor}</span>
                        </li>
                    }
                    {soporte &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{soporte}</span>
                        </li>
                    }
                    {appMovil &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{appMovil}</span>
                        </li>
                    }
                    {integracionConShopify &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{integracionConShopify}</span>
                        </li>
                    }
                    {integracionConApiPublica &&
                        <li class="flex items-center space-x-3">
                        <IconTick />
                        <span>{integracionConApiPublica}</span>
                        </li>
                    }
                </ul>
            </div>

        ))
    }

</section>